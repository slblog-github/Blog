<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Hexo-Butterfly主题魔改 | Backup of old blog</title><meta name="author" content="Hajeekn"><meta name="copyright" content="Hajeekn"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="想魔改自己的主题却总是报错?这篇文章我会将我的主题魔改贡献出来。"><link rel="shortcut icon" href="https://npm.elemecdn.com/perorepe-cdn@1.0.0/v1/static-files/avatar.webp"><link rel="canonical" href="https://blog.slqwq.cn/2021/posts/bbr35lia/"><link rel="preconnect" href="//cdn1.tianli0.top"><link rel="preconnect" href="//www.clarity.ms"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><script>!function(t,e,n,c,r,a,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(a=e.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/bovtpg5urc",(s=e.getElementsByTagName(c)[0]).parentNode.insertBefore(a,s)}(window,document,"clarity","script")</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:{limitDay:500,position:"top",messagePrev:"It has been",messageNext:"days since the last update, the content of the article may be outdated."},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:100},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"mediumZoom",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"var(--loger-theme)",bgDark:"var(--loger-theme)",position:"top-center"},source:{justifiedGallery:{js:"https://cdn1.tianli0.top/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn1.tianli0.top/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!0,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Hexo-Butterfly主题魔改",isPost:!0,isHome:!1,isHighlightShrink:!0,isToc:!0,postUpdate:"2023-02-01 11:29:35"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,n={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(n))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};const t=saveToLocal.get("theme"),o=(new Date).getHours();void 0===t?o<=6||o>=18?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode();const a=saveToLocal.get("aside-status");void 0!==a&&("hide"===a?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="referrer" content="no-referrer"><script src="../sw-load.js"></script><meta name="google-site-verification" content="qAOA3HXexaF_5uvs3Ghmqp_eB0pIzLgQ1eFRTFGb0Sk"><link rel="stylesheet" href="https://unpkg.slqwq.cn/patch-css@1.0.4/main.min.css"><script src="https://npm.elemecdn.com/vue@2.6.11"></script><link rel="stylesheet" href="https://npm.elemecdn.com/wytong-source@1.6.49078015225/styles/plugins.css"><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload='this.media="screen"'><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Backup of old blog" type="application/atom+xml"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()}),document.addEventListener("pjax:send",()=>{preloader.initLoading()}),document.addEventListener("pjax:complete",()=>{preloader.endLoading()})</script><link rel="stylesheet" href="/css/progress_bar.css"><script src="https://cdn1.tianli0.top/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/perorepe-cdn@1.0.0/v1/static-files/avatar.webp" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">30</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">36</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">33</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fab fa-hive"></i> <span>网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-archive"></i> <span>文章</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw iconfont icon-link"></i> <span>友链</span></a></li><li><a class="site-page child" href="/circle/"><i class="fa-fw fas fa-network-wired"></i> <span>友链们的朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw far fa-address-card"></i> <span>我的信息</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw iconfont icon-love"></i> <span>关于</span></a></li><li><a class="site-page child" href="/update/"><i class="fa-fw iconfont icon-book"></i> <span>更新</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-user-ninja"></i> <span>一些话</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/messagesboard/"><i class="fa-fw fas fa-sms"></i> <span>留言板</span></a></li><li><a class="site-page child" href="/dder/"><i class="fa-fw fas fa-bomb"></i> <span>叨叨</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Backup of old blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fab fa-hive"></i> <span>网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-archive"></i> <span>文章</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw iconfont icon-link"></i> <span>友链</span></a></li><li><a class="site-page child" href="/circle/"><i class="fa-fw fas fa-network-wired"></i> <span>友链们的朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw far fa-address-card"></i> <span>我的信息</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw iconfont icon-love"></i> <span>关于</span></a></li><li><a class="site-page child" href="/update/"><i class="fa-fw iconfont icon-book"></i> <span>更新</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-user-ninja"></i> <span>一些话</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/messagesboard/"><i class="fa-fw fas fa-sms"></i> <span>留言板</span></a></li><li><a class="site-page child" href="/dder/"><i class="fa-fw fas fa-bomb"></i> <span>叨叨</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Hexo-Butterfly主题魔改</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-26T20:00:46.000Z" title="发表于 2021-01-26 20:00:46">2021-01-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-02-01T11:29:35.177Z" title="更新于 2023-02-01 11:29:35">2023-02-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Hexo/">Hexo</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Hexo/%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9/">主题魔改</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>34分钟</span></span></div></div></div><article class="post-content" id="article-container"><p><strong>由于每个人的博客目录都不相同，这里博客目录使用%brt%代替</strong><br><strong>本文章除 Pace wowjs 普通引入法以外,其他魔改都不适合 Butterfly3.6.0 及以上</strong></p><h1 id="通过-wowjs-给博客添加好看的样式"><a href="#通过-wowjs-给博客添加好看的样式" class="headerlink" title="通过 wowjs 给博客添加好看的样式"></a>通过 wowjs 给博客添加好看的样式</h1><h2 id="基础样式篇"><a href="#基础样式篇" class="headerlink" title="基础样式篇"></a>基础样式篇</h2><ul><li>1.创建 JS</li></ul><p>前往<code>%brt%\themes\butterfly\source\js\</code><br>新建一个 js,名称为<code>wow-init.js</code><br>其 JS 内部写入如下内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">wow = <span class="keyword">new</span> <span class="title function_">WOW</span>(&#123;</span><br><span class="line">  <span class="attr">boxClass</span>: <span class="string">&quot;wow&quot;</span>,</span><br><span class="line">  <span class="comment">// 用户滚动时显示隐藏框的类名称(可以自行配置)</span></span><br><span class="line">  <span class="attr">animateClass</span>: <span class="string">&quot;animate__animated&quot;</span>,</span><br><span class="line">  <span class="comment">// 触发 CSS 动画的类名称（动画库默认为&quot;animate.css&quot;库）(可以自行配置)</span></span><br><span class="line">  <span class="attr">offset</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="comment">// 定义浏览器视口底部与隐藏框顶部之间的距离。</span></span><br><span class="line">  <span class="comment">// 当用户滚动并到达此距离时，将显示隐藏的框。</span></span><br><span class="line">  <span class="comment">// 可以自行配置</span></span><br><span class="line">  <span class="attr">live</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 在页面上检查新的 wow.js元素。</span></span><br><span class="line">&#125;);</span><br><span class="line">wow.<span class="title function_">init</span>();</span><br></pre></td></tr></table></figure><p>如果您觉得不想出现注释，也可以删掉注释。</p><ul><li>2.前往<code>%brt%\themes\butterfly\layout\includes\third-party\</code>目录,新建一个名为<code>wow-js.pug</code>的文件</li></ul><p>其文件内部写入如下代码:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.pjax-reload</span><br><span class="line">  <span class="keyword">if</span> theme.wowjs.animateitem</span><br><span class="line">    each item <span class="keyword">in</span> theme.wowjs.animateitem</span><br><span class="line">      script(<span class="keyword">async</span>).</span><br><span class="line">        var arr = document.getElementsByClassName(<span class="string">&#x27;!&#123;item.class&#125;&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span>(var i = <span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">            arr[i].classList.add(<span class="string">&#x27;wow&#x27;</span>);</span><br><span class="line">            arr[i].classList.add(<span class="string">&#x27;!&#123;item.style&#125;&#x27;</span>);</span><br><span class="line">            arr[i].setAttribute(<span class="string">&#x27;data-wow-duration&#x27;</span>, <span class="string">&#x27;!&#123;item.duration&#125;&#x27;</span>);</span><br><span class="line">            arr[i].setAttribute(<span class="string">&#x27;data-wow-delay&#x27;</span>, <span class="string">&#x27;!&#123;item.delay&#125;&#x27;</span>);</span><br><span class="line">            arr[i].setAttribute(<span class="string">&#x27;data-wow-offset&#x27;</span>, <span class="string">&#x27;!&#123;item.offset&#125;&#x27;</span>);</span><br><span class="line">            arr[i].setAttribute(<span class="string">&#x27;data-wow-iteration&#x27;</span>, <span class="string">&#x27;!&#123;item.iteration&#125;&#x27;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">script(defer src=url_for(theme.CDN.wowjs))</span><br><span class="line">script(defer src=url_for(theme.CDN.wowjs_init))</span><br></pre></td></tr></table></figure><ul><li>3.修改<code>%brt%\themes\butterfly\layout\includes\head.pug</code>的内容</li></ul><p>在 //- font 的配置下<br>//- global config 的配置上的空白部分写入以下代码(请直接复制粘贴,避免出现缩进错误 ❌)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//- animate_css</span><br><span class="line">if theme.wowjs.enable</span><br><span class="line">  link(rel=&#x27;stylesheet&#x27; href=url_for(theme.CDN.animate_css) media=&quot;print&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;)</span><br></pre></td></tr></table></figure><ul><li>4.修改<code>%brt&amp;\themes\butterfly\layout\includes\additional-js.pug</code>文件内部的内容</li></ul><p>在 if theme.pjax.enable 配置大项的 baidu-push 小项下写入一下代码(请直接复制粘贴,避免出现缩进错误 ❌)<br>V3.4.0 以下(不包括 3.4.0):<br>将其中的</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;script[data-pjax]&#x27;</span>).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br></pre></td></tr></table></figure><p>删除,并修改为:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;script[data-pjax], .pjax-reload script&quot;</span>).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  $(<span class="variable language_">this</span>).<span class="title function_">parent</span>().<span class="title function_">append</span>($(<span class="variable language_">this</span>).<span class="title function_">remove</span>());</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>V3.4.0 以上(包括 3.4.0):<br>找到</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;script[data-pjax]&#x27;</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br></pre></td></tr></table></figure><p>删除它,并写入以下代码(请直接复制粘贴,避免缩进错误 ❌)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span></span><br><span class="line">  .<span class="title function_">querySelectorAll</span>(<span class="string">&quot;script[data-pjax], .pjax-reload script&quot;</span>)</span><br><span class="line">  .<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> newScript = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> content = item.<span class="property">text</span> || item.<span class="property">textContent</span> || item.<span class="property">innerHTML</span> || <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="title class_">Array</span>.<span class="title function_">from</span>(item.<span class="property">attributes</span>).<span class="title function_">forEach</span>(<span class="function">(<span class="params">attr</span>) =&gt;</span></span><br><span class="line">      newScript.<span class="title function_">setAttribute</span>(attr.<span class="property">name</span>, attr.<span class="property">value</span>)</span><br><span class="line">    );</span><br><span class="line">    newScript.<span class="title function_">appendChild</span>(<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(content));</span><br><span class="line">    item.<span class="property">parentNode</span>.<span class="title function_">replaceChild</span>(newScript, item);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><ul><li>5.修改<code>%brt\%config%\_config.butterfly.yml</code>(请将%config%替换为你主题配置文件的位置,如果在根目录请无视)</li></ul><p>找到 CDN 配置项<br>在</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">utils:</span> <span class="string">/js/utils.js</span></span><br></pre></td></tr></table></figure><p>的配置项下添加 wowjs、wowjs-init、animate 的库(请直接复制粘贴以下代码,避免格式缩进导致的错误 ❌)</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wowjs:</span> <span class="string">https://cdn1.tianli0.top/gh/graingert/wow@1.3.0/dist/wow.min.js</span></span><br><span class="line"><span class="attr">wowjs_init:</span> <span class="string">/js/wow_init.js</span></span><br><span class="line"><span class="attr">animate_css:</span> <span class="string">https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css</span></span><br></pre></td></tr></table></figure><ul><li>6.修改<code>%brt\%config%\_config.butterfly.yml</code>(请将%config%替换为你主题配置文件的位置,如果在根目录请无视)</li></ul><p>在该配置文件内部添加 wow 的开关，其中 class 和 style 配置为必填项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制动画开关。true是打开，false是关闭</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">3s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">2</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">CoolButton</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br></pre></td></tr></table></figure><p>运行<code>hexo clean &amp;&amp; hexo g</code>后方可看到效果,更多 animate 动画样式可查看<a target="_blank" rel="noopener" href="https://animate.style/">animate 官方文档</a></p><h2 id="浮动样式篇"><a href="#浮动样式篇" class="headerlink" title="浮动样式篇"></a>浮动样式篇</h2><p>浮动样式篇参考<a target="_blank" rel="noopener" href="https://akilar.top/">Aklilar</a>大佬的文章<a target="_blank" rel="noopener" href="https://akilar.top/posts/9e3bccc6">给博客元素添加浮动特效</a>和<a target="_blank" rel="noopener" href="https://blog.zhheo.com/">洪哥</a>的博客效果</p><ul><li>1.前往<code>%brt%\themes\butterfly\source\js\</code>目录,新建一个名为<code>floatpanel.js</code>的文件</li></ul><p>在内部写入以下代码:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">ANGLE</span> = <span class="number">45</span>; <span class="comment">//控制浮动角度，数值越大，浮动幅度越大。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> panel = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;wowpanels&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; panel.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="title function_">floatable</span>(panel[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">floatable</span>(<span class="params">content</span>) &#123;</span><br><span class="line">  content.<span class="title function_">addEventListener</span>(<span class="string">&quot;mouseout&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    content.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">`perspective(300px)</span></span><br><span class="line"><span class="string">								   rotateX(0deg)</span></span><br><span class="line"><span class="string">								   rotateY(0deg)</span></span><br><span class="line"><span class="string">								   rotateZ(0deg)`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  content.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> w = content.<span class="property">clientWidth</span>;</span><br><span class="line">    <span class="keyword">var</span> h = content.<span class="property">clientHeight</span>;</span><br><span class="line">    <span class="keyword">var</span> y = ((e.<span class="property">offsetX</span> - w * <span class="number">0.5</span>) / w) * <span class="variable constant_">ANGLE</span>;</span><br><span class="line">    <span class="keyword">var</span> x = ((<span class="number">1</span> - (e.<span class="property">offsetY</span> - h * <span class="number">0.5</span>)) / h) * <span class="variable constant_">ANGLE</span>;</span><br><span class="line"></span><br><span class="line">    content.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">`perspective(300px)</span></span><br><span class="line"><span class="string">								   rotateX(<span class="subst">$&#123;x&#125;</span>deg)</span></span><br><span class="line"><span class="string">								   rotateY(<span class="subst">$&#123;y&#125;</span>deg)`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>2.修改<code>%brt\%config%\_config.butterfly.yml</code>(请将%config%替换为你主题配置文件的位置,如果在根目录请无视)</li></ul><p>在 inject 大项的 bottom 小项中添加 script 引入项:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/floatpanel.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><ul><li>3.给你想要特效的类元素添加 wowpanels 属性,修改 floatpanel.js 的代码如下:</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">新增的内容</span></span><br><span class="line"><span class="string">var</span> <span class="string">arr</span> <span class="string">=</span> <span class="string">document.getElementsByClassName(&#x27;element-class&#x27;);</span></span><br><span class="line"><span class="string">//把element-class替换成你想要添加特效的元素的类名</span></span><br><span class="line"><span class="string">for(var</span> <span class="string">i</span> <span class="string">=</span> <span class="number">0</span><span class="string">;i&lt;arr.length;i++)&#123;</span></span><br><span class="line"><span class="string">arr[i].classList.add(&#x27;wowpanels&#x27;);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">//</span> <span class="string">原来的内容</span></span><br><span class="line"><span class="string">var</span> <span class="string">ANGLE</span> <span class="string">=</span> <span class="number">45</span><span class="string">;</span> <span class="string">//控制浮动角度，数值越大，浮动幅度越大。</span></span><br><span class="line"><span class="string">var</span> <span class="string">panel=</span> <span class="string">document.getElementsByClassName(&#x27;wowpanels&#x27;);</span></span><br><span class="line"><span class="string">for(var</span> <span class="string">i</span> <span class="string">=</span> <span class="number">0</span><span class="string">;i&lt;panel.length;i++)&#123;</span></span><br><span class="line"><span class="string">floatable(panel[i]);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">function</span> <span class="string">floatable</span> <span class="string">(content)</span> &#123;</span><br><span class="line"><span class="string">content.addEventListener(&#x27;mouseout&#x27;</span>, <span class="string">e</span> <span class="string">=&gt;</span> &#123;</span><br><span class="line"><span class="string">content.style.transform</span> <span class="string">=</span> <span class="string">`perspective(300px)</span></span><br><span class="line"><span class="string">rotateX(0deg)</span></span><br><span class="line"><span class="string">rotateY(0deg)</span></span><br><span class="line"><span class="string">rotateZ(0deg)`;</span></span><br><span class="line">&#125;<span class="string">);</span></span><br><span class="line"><span class="string">content.addEventListener(&#x27;mousemove&#x27;</span>, <span class="string">e</span> <span class="string">=&gt;</span> &#123;</span><br><span class="line"><span class="string">var</span> <span class="string">w</span> <span class="string">=</span> <span class="string">content.clientWidth;</span></span><br><span class="line"><span class="string">var</span> <span class="string">h</span> <span class="string">=</span> <span class="string">content.clientHeight;</span></span><br><span class="line"><span class="string">var</span> <span class="string">y</span> <span class="string">=</span> <span class="string">(e.offsetX</span> <span class="bullet">-</span> <span class="string">w</span> <span class="string">*</span> <span class="number">0.5</span><span class="string">)</span> <span class="string">/</span> <span class="string">w</span> <span class="string">*</span> <span class="string">ANGLE;</span></span><br><span class="line"><span class="string">var</span> <span class="string">x</span> <span class="string">=</span> <span class="string">(1</span> <span class="bullet">-</span> <span class="string">(e.offsetY</span> <span class="bullet">-</span> <span class="string">h</span> <span class="string">*</span> <span class="number">0.5</span><span class="string">))</span> <span class="string">/</span> <span class="string">h</span> <span class="string">*</span> <span class="string">ANGLE;</span></span><br><span class="line"></span><br><span class="line"><span class="string">content.style.transform</span> <span class="string">=</span> <span class="string">`perspective(300px)</span></span><br><span class="line"><span class="string">rotateX($</span>&#123;<span class="string">x</span>&#125;<span class="string">deg)</span></span><br><span class="line"><span class="string">rotateY($</span>&#123;<span class="string">y</span>&#125;<span class="string">deg)`;</span></span><br><span class="line">&#125;<span class="string">);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em><strong>当你完成了基础样式篇时,其实你可以直接将浮动效果看成一个动画样式</strong></em><br>在之前的配置下直接添加以下配置项:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class:</span> <span class="comment">#你想要更改的class类名</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">wowpanels</span></span><br></pre></td></tr></table></figure><p>添加完成后 wowjs 的配置项应该与下面的截图类似<br><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/wytong-source/photos/PicGo/202204171055304.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=DBS7C&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""><br>如果报错,请检查你的配置缩进是否正确 ✔,这里博主推荐使用微软爸爸出品的 VSC 编辑对于缩进格式邀请很强的文件格式<br>以下代码供您用来参考:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wowjs</span></span><br><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制动画开关。true是打开，false是关闭</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">3s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="number">0.</span><span class="string">5s</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-widget</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomInUp</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">3s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="number">0.</span><span class="string">5s</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">layout</span> <span class="string">hide-aside</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__flipInY</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">3s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="number">0.</span><span class="string">5s</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">CoolButton</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">wowpanels</span></span><br></pre></td></tr></table></figure><p><strong>如果您想让动画更滑丝滑流畅,可以新建 css,在内部写入以下代码:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wowpanels</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.4s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.39</span>, <span class="number">0.575</span>, <span class="number">0.565</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="添加-BiliBili-同款的动态-Banner"><a href="#添加-BiliBili-同款的动态-Banner" class="headerlink" title="添加 BiliBili 同款的动态 Banner"></a>添加 BiliBili 同款的动态 Banner</h1><p>由于每个人的博客目录都不相同，这里博客目录使用%brt%代替</p><div class="btns"><a target="_blank" rel="noopener" href="https://slqwq.lanzous.com/i94DIkvxz6f" title="下载Bilibili的Banner" one-link-mark="yes" data-pjax-state=""><i class="far fa-hand-point-right"></i>下载Bilibili的Banner</a></div><ul><li>1.前往<code>%brt%\themes\butterfly\layout\includes\header\</code>新建一个名为<code>bilibili-banner.pug</code>的文件</li></ul><p>在其内部写入</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="title function_">is_home</span>())</span><br><span class="line">  - <span class="keyword">var</span> banner_style = (<span class="title function_">typeof</span>(page.<span class="property">bilibili_banner</span>) != <span class="string">&quot;undefined&quot;</span> &amp;&amp; page.<span class="property">bilibili_banner</span>!=<span class="literal">null</span>) ? page.<span class="property">bilibili_banner</span> : theme.<span class="property">bilibili_banner</span>.<span class="property">style</span></span><br><span class="line">  <span class="keyword">if</span> (banner_style === <span class="string">&#x27;autumn&#x27;</span>)</span><br><span class="line">    #autumnBanner</span><br><span class="line">      div</span><br><span class="line">        <span class="title function_">img</span>(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-1.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        <span class="title function_">img</span>(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-2.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        <span class="title function_">img</span>(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-3.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        <span class="title function_">img</span>(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-4.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        <span class="title function_">img</span>(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-5.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        <span class="title function_">img</span>(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-6.png&#x27;</span>)</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (banner_style === <span class="string">&#x27;winter&#x27;</span>)</span><br><span class="line">    #winterBanner</span><br><span class="line">      .<span class="property">view</span></span><br><span class="line">        img.<span class="title function_">morning</span>(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-view-1.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        img.<span class="title function_">afternoon</span>(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-view-2.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        video.<span class="title function_">evening</span>(autoplay=<span class="string">&#x27;&#x27;</span> loop=<span class="string">&#x27;&#x27;</span> muted=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">          <span class="title function_">source</span>(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-view-3.webm&#x27;</span> type=<span class="string">&#x27;video/webm&#x27;</span>)</span><br><span class="line">        img.<span class="property">window</span>-<span class="title function_">cover</span>(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-view-3-snow.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">      .<span class="property">tree</span></span><br><span class="line">        img.<span class="title function_">morning</span>(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-tree-1.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        img.<span class="title function_">afternoon</span>(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-tree-2.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        img.<span class="title function_">evening</span>(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-tree-3.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="title function_">script</span>(<span class="keyword">async</span> data-pjax src=<span class="title function_">url_for</span>(theme.<span class="property">CDN</span>.<span class="property">bilibili_banner</span>))</span><br></pre></td></tr></table></figure><ul><li>2.前往<code>%brt%\themes\butterfly\source\css\</code>新建一个名为<code>bilibiliBanner.css</code>的文件</li></ul><p>在其内部写入以下代码:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* autumnBanner */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1000px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#autumnBanner</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#autumnBanner</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">70%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#autumnBanner</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line"></span><br><span class="line">  <span class="attr">--offset</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attr">--blur</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#autumnBanner</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">110%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">object-fit</span>: cover;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translatex</span>(<span class="built_in">var</span>(--offset));</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="built_in">var</span>(--blur));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* winterBanner */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1000px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#winterBanner</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attr">--percentage</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.view</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.tree</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-tag">img</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-tag">video</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">120%</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120%</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">object-fit</span>: cover;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">70%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.morning</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">20</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">calc</span>(<span class="number">1</span> - (<span class="built_in">var</span>(--percentage) - <span class="number">0.25</span>) / <span class="number">0.25</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.afternoon</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">calc</span>(<span class="number">1</span> - (<span class="built_in">var</span>(--percentage) - <span class="number">0.5</span>) / <span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.view</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translatex</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--percentage) * <span class="number">100px</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.tree</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translatex</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--percentage) * <span class="number">50px</span>));</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">3px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.view</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.tree</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.morning</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.afternoon</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.2s</span> all ease-in;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span><span class="selector-class">.moving</span> <span class="selector-class">.view</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span><span class="selector-class">.moving</span> <span class="selector-class">.tree</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span><span class="selector-class">.moving</span> <span class="selector-class">.morning</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span><span class="selector-class">.moving</span> <span class="selector-class">.afternoon</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.window-cover</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">calc</span>((<span class="built_in">var</span>(--percentage) - <span class="number">0.9</span>) / <span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>3.前往<code>%brt%\themes\butterfly\source\js\</code>新建一个名为<code>bilibili-banner.js</code>的文件</li></ul><p>在其内部写入以下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//autumn_banner</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> autumnBanner = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#autumnBanner&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (autumnBanner) &#123;</span><br><span class="line">  <span class="keyword">var</span> images = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#autumnBanner &gt; div &gt; img&quot;</span>);</span><br><span class="line">  autumnBanner.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> percentage = e.<span class="property">clientX</span> / <span class="variable language_">window</span>.<span class="property">outerWidth</span>;</span><br><span class="line">    <span class="keyword">let</span> offset = <span class="number">10</span> * percentage;</span><br><span class="line">    <span class="keyword">let</span> blur = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> [index, image] <span class="keyword">of</span> images.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">      offset *= <span class="number">1.3</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> blurValue = <span class="title class_">Math</span>.<span class="title function_">pow</span>(index / images.<span class="property">length</span> - percentage, <span class="number">2</span>) * blur;</span><br><span class="line"></span><br><span class="line">      image.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&quot;--offset&quot;</span>, <span class="string">`<span class="subst">$&#123;offset&#125;</span>px`</span>);</span><br><span class="line">      image.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&quot;--blur&quot;</span>, <span class="string">`<span class="subst">$&#123;blurValue&#125;</span>px`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//winter_banner</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> winterBanner = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#winterBanner&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (winterBanner) &#123;</span><br><span class="line">  <span class="keyword">var</span> startingPoint;</span><br><span class="line">  winterBanner.<span class="title function_">addEventListener</span>(<span class="string">&quot;mouseenter&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    startingPoint = e.<span class="property">clientX</span>;</span><br><span class="line">    winterBanner.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;moving&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  winterBanner.<span class="title function_">addEventListener</span>(<span class="string">&quot;mouseout&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    winterBanner.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;moving&quot;</span>);</span><br><span class="line">    winterBanner.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&quot;--percentage&quot;</span>, <span class="number">0.5</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  winterBanner.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> percentage = (e.<span class="property">clientX</span> - startingPoint) / <span class="variable language_">window</span>.<span class="property">outerWidth</span> + <span class="number">0.5</span>;</span><br><span class="line"></span><br><span class="line">    winterBanner.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&quot;--percentage&quot;</span>, percentage);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>4.在主题的 source 文件夹下新建<code>bilibiliBanner</code>文件夹,将我所提供的资源解压,直接放入进去(里面一定只有两个目录)</li><li>5.进入<code>%brt%\themes\butterfly\layout\includes\header\</code>文件夹,找到<code>index.pug</code>在内部注入 bilibili_banner 组件</li></ul><p>在 include ./nav.pug 配置下 if is_post()配置上添加以下配置(请直接复制粘贴,避免代码缩进导致的错误 ❌)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">var</span> bilibili_banner = (<span class="title function_">typeof</span>(page.<span class="property">bilibili_banner</span>) != <span class="string">&quot;undefined&quot;</span> &amp;&amp; page.<span class="property">bilibili_banner</span>!=<span class="literal">null</span>) ? page.<span class="property">bilibili_banner</span> : theme.<span class="property">bilibili_banner</span>.<span class="property">enable</span></span><br><span class="line"><span class="keyword">if</span> (bilibili_banner)</span><br><span class="line">  include ./bilibili-banner.<span class="property">pug</span></span><br></pre></td></tr></table></figure><ul><li>6.修改<code>%brt\%config%\_config.butterfly.yml</code>(请将%config%替换为你主题配置文件的位置,如果在根目录请无视)</li></ul><p>找到 CDN 配置,在 utils: /js/utils.js 配置的后面添加以下配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bilibili_banner:</span> <span class="string">/js/bilibili-banner.js</span></span><br></pre></td></tr></table></figure><ul><li><em><strong>添加</strong></em> <code>_**css**_</code> <em><strong>配置项。此处使用了异步加载，同时做了媒体选择，对手机是不会生效的。因为手机的</strong></em> <code>_**banner**_</code> <em><strong>高度会导致适配效果很差。</strong></em></li></ul><p>我们找到 inject 配置大项的 head 小项,在其内部添加以下配置:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/bilibiliBanner.css&quot;</span>  <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;screen&#x27;&quot;&gt;</span></span><br></pre></td></tr></table></figure><ul><li>7.添加控制开关</li></ul><p>在 butterfly 主题配置中添加以下配置:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># banner样式</span></span><br><span class="line"><span class="attr">bilibili_banner:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关banner</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">winter</span> <span class="comment"># autumn 秋季样式 ；winter 冬季样式</span></span><br></pre></td></tr></table></figure><ul><li>除了在主题配置文件通过配置 <code>bilibili_banner:</code> 的默认项，还可以在每个页面的 <code>markdown</code> 文件中通过 <code>front-matter</code> 控制单页配置。提供了<strong>三个选项</strong>：</li><li><code>false</code> ： 关闭该页面的动态 <code>banner</code> 显示</li><li><code>autumn</code> ： 开启该页面的动态 <code>banner</code>，并设置主题为秋季</li><li><code>winter</code> ： 开启该页面的动态 <code>banner</code>，并设置主题为冬季<br>页面配置项优先级高于主题配置</li></ul><h1 id="悬停左上角时在网站顶部中间位置会出现描述"><a href="#悬停左上角时在网站顶部中间位置会出现描述" class="headerlink" title="悬停左上角时在网站顶部中间位置会出现描述"></a>悬停左上角时在网站顶部中间位置会出现描述</h1><ul><li>1.进入<code>%brt%\themes\butterfly\layout\includes\header\</code>修改名为<code>nav.pug</code>的文件</li></ul><p>找到</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">span#blog_name</span><br><span class="line">a#site-<span class="title function_">name</span>(href=<span class="title function_">url_for</span>(<span class="string">&#x27;/&#x27;</span>)) #[=config.<span class="property">title</span>]</span><br></pre></td></tr></table></figure><p>将它们删除,并替换为以下代码(请直接复制粘贴,避免缩进错误 ❌):</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">var</span> pagedescr = (<span class="title function_">typeof</span>(page.<span class="property">description</span>) != <span class="string">&quot;undefined&quot;</span> &amp;&amp; page.<span class="property">description</span>!=<span class="literal">null</span>) ? page.<span class="property">description</span> : <span class="string">&#x27;欢迎您来到了Hajeekn的小木屋呢,不过看起来有点漏水🐕&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> <span class="title function_">is_post</span>()</span><br><span class="line">    span#blog_name</span><br><span class="line">      a#site-<span class="title function_">name</span>(onclick=<span class="string">&#x27;btf.scrollToDest(0,500)&#x27;</span> data-title=pagedescr) #[=config.<span class="property">title</span>]</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> <span class="title function_">is_page</span>()</span><br><span class="line">    span#blog_name</span><br><span class="line">      a#site-<span class="title function_">name</span>(href=<span class="title function_">url_for</span>(<span class="string">&#x27;/&#x27;</span>) data-title=pagedescr) #[=page.<span class="property">title</span>]</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    span#blog_name</span><br><span class="line">      a#site-<span class="title function_">name</span>(href=<span class="title function_">url_for</span>(<span class="string">&#x27;/&#x27;</span>) data-title=pagedescr) #[=config.<span class="property">title</span>]</span><br></pre></td></tr></table></figure><ul><li>2.因为 <code>hexo</code> 自带缓存的关系，如果我们用的是缓存式引入的话，<code>nav</code> 的刷新是惰性的，我们需要它根据文章和页面的切换实时变动。所以需要改动一下引入逻辑。打开<code>%brt%\themes\butterfly\layout\includes\header\index.pug</code></li></ul><p>找到</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!=<span class="title function_">partial</span>(<span class="string">&#x27;includes/header/nav&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>:theme.<span class="property">fragment_cache</span>&#125;)</span><br></pre></td></tr></table></figure><p>删除,并将它修改为以下代码(请直接复制粘贴,避免缩进错误 ❌):</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">include ./nav.<span class="property">pug</span></span><br><span class="line"><span class="keyword">if</span> top_img !== <span class="literal">false</span></span><br><span class="line">  <span class="keyword">if</span> <span class="title function_">is_post</span>()</span><br><span class="line">    include ./post-info.<span class="property">pug</span></span><br></pre></td></tr></table></figure><p>(如果您添加了 BiliBili 动态 banner,请将它放置在在 if is_post()的前面 if top_img !== false 的后面,避免报错)</p><ul><li>3.进入<code>%brt%\themes\butterfly\source\css\_layout\</code>新建_custom.styl</li></ul><p>在其内部输入以下代码(请直接复制粘贴,避免缩进错误 ❌):</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*标题悬停显示文章描述*/</span></span><br><span class="line"><span class="selector-id">#site-name</span></span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span></span><br><span class="line">    &amp;<span class="selector-pseudo">:before</span></span><br><span class="line">      <span class="attribute">position</span>: fixed</span><br><span class="line">      width:fit-content</span><br><span class="line">      margin:auto</span><br><span class="line">      left:<span class="number">0</span>;</span><br><span class="line">      <span class="attribute">right</span>:<span class="number">0</span></span><br><span class="line">      top:<span class="number">10%</span></span><br><span class="line">      border-radius: <span class="number">10px</span></span><br><span class="line">      text-align: center</span><br><span class="line">      z-index: <span class="number">100</span></span><br><span class="line">      content: <span class="built_in">attr</span>(data-title)</span><br><span class="line">      font-size: <span class="number">20px</span></span><br><span class="line">      color: <span class="number">#fff</span></span><br><span class="line">      padding: <span class="number">10px</span></span><br><span class="line">      background-color: <span class="built_in">rgba</span>(<span class="number">#49B1F5</span>,<span class="number">0.9</span>)</span><br><span class="line"><span class="comment">/* 夜间模式适配 */</span></span><br><span class="line">[data-theme=dark]</span><br><span class="line">  a#site-name</span><br><span class="line">    &amp;:hover</span><br><span class="line">      &amp;:before</span><br><span class="line">        background-color: <span class="built_in">rgba</span>(<span class="number">#121212</span>,<span class="number">0.8</span>)</span><br><span class="line"><span class="comment">/*标题超过隐藏并显示省略号*/</span></span><br><span class="line">@media screen and (max-width: <span class="number">768px</span>)</span><br><span class="line">  a#site-name</span><br><span class="line">    -webkit-line-clamp <span class="number">1</span></span><br><span class="line">    word-break break-all</span><br><span class="line">    display -webkit-box</span><br><span class="line">    -webkit-box-orient vertical</span><br><span class="line">    overflow hidden</span><br></pre></td></tr></table></figure><h1 id="主页置顶的-♂gitcalendar♂"><a href="#主页置顶的-♂gitcalendar♂" class="headerlink" title="主页置顶的 ♂gitcalendar♂"></a>主页置顶的 ♂gitcalendar♂</h1><p>哪个男孩纸不想拥有一个状态显示呢?<br>这个模块就会教大家在 Butterfly 使用 gitcalendar</p><h2 id="准备好了吗-Go-Go"><a href="#准备好了吗-Go-Go" class="headerlink" title="准备好了吗?Go Go!"></a>准备好了吗?Go Go!</h2><ul><li>1.前往<code>%brt\themes\butterfly\layout\includes\</code>新建一个名为<code>gitcalendar.pug</code>的文件</li></ul><p>在其内部添加以下代码(请直接复制粘贴,避免缩进错误 ❌):</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#gitcalendar.<span class="property">gitcalendar</span></span><br><span class="line">  #<span class="title function_">gitmessage</span>(:style=<span class="string">&#x27;&#123;top:y+px,left:x+px,position: fixed,zIndex:9999&#125;&#x27;</span>)</span><br><span class="line">    .<span class="property">angle</span>-wrapper</span><br><span class="line">      span &#123;&#123;span1&#125;&#125; &amp;nbsp;</span><br><span class="line">      span &#123;&#123;span2&#125;&#125; 次上传</span><br><span class="line">  .<span class="property">position</span>-relative</span><br><span class="line">    .<span class="property">border</span>.<span class="property">py</span>-<span class="number">2.</span>graph-before-activity-overview</span><br><span class="line">      .<span class="property">js</span>-gitcalendar-graph.<span class="property">mx</span>-md-<span class="number">2.</span>mx-<span class="number">3.</span>d-flex.<span class="property">flex</span>-column.<span class="property">flex</span>-items-end.<span class="property">flex</span>-xl-items-center.<span class="property">overflow</span>-hidden.<span class="property">pt</span>-<span class="number">1.</span>is-graph-loading.<span class="property">graph</span>-canvas.<span class="property">gitcalendar</span>-graph.<span class="property">height</span>-full.<span class="property">text</span>-center</span><br><span class="line">        #<span class="title function_">gitcalendarcanvasbox</span>(v-<span class="keyword">if</span>=<span class="string">&#x27;simplemode&#x27;</span>)</span><br><span class="line">          canvas#<span class="title function_">gitcanvas</span>(style=<span class="string">&#x27;animation: none;&#x27;</span>)</span><br><span class="line">        svg.<span class="property">js</span>-gitcalendar-graph-<span class="title function_">svg</span>(width=<span class="string">&#x27;100%&#x27;</span>, viewBox=<span class="string">&#x27;0 0 770 128&#x27;</span>, v-<span class="keyword">if</span>=<span class="string">&#x27;!simplemode&#x27;</span>)</span><br><span class="line">          text.<span class="title function_">month</span>(<span class="params">:x=<span class="string">&#x27;32 + monthindex*64&#x27;</span>, y=<span class="string">&#x27;20&#x27;</span>, v-<span class="keyword">for</span>=<span class="string">&#x27;(month,monthindex) in monthchange&#x27;</span></span>) &#123;&#123;month&#125;&#125;</span><br><span class="line">          text.<span class="title function_">wday</span>(text-anchor=<span class="string">&#x27;start&#x27;</span>, dx=<span class="string">&#x27;0&#x27;</span>, dy=<span class="string">&#x27;40&#x27;</span>)  日</span><br><span class="line">          text.<span class="title function_">wday</span>(text-anchor=<span class="string">&#x27;start&#x27;</span>, dx=<span class="string">&#x27;0&#x27;</span>, dy=<span class="string">&#x27;65&#x27;</span>)  二</span><br><span class="line">          text.<span class="title function_">wday</span>(text-anchor=<span class="string">&#x27;start&#x27;</span>, dx=<span class="string">&#x27;0&#x27;</span>, dy=<span class="string">&#x27;90&#x27;</span>)  四</span><br><span class="line">          text.<span class="title function_">wday</span>(text-anchor=<span class="string">&#x27;start&#x27;</span>, dx=<span class="string">&#x27;0&#x27;</span>, dy=<span class="string">&#x27;115&#x27;</span>) 六</span><br><span class="line">          <span class="title function_">g</span>(v-<span class="keyword">for</span>=<span class="string">&#x27;(weekitem,weekIndex) in data&#x27;</span>, :transform=<span class="string">&#x27;\&#x27;translate(\&#x27;+ (16 + weekIndex*14) + \&#x27;,\&#x27; + \&#x27;0)\&#x27;&#x27;</span>)</span><br><span class="line">            <span class="title function_">rect</span>(@mouseover=<span class="string">&quot;selectStyle(dayitem,$event)&quot;</span>  @mouseleave=<span class="string">&quot;outStyle()&quot;</span> v-<span class="keyword">for</span>=<span class="string">&#x27;(dayitem,dayIndex) in weekitem&#x27;</span>, :style=<span class="string">&#x27;&#123;fill:thiscolor(dayitem.count),shapeRendering:crispedges&#125;&#x27;</span>, :data-score=<span class="string">&#x27;dayitem.count&#x27;</span>, :data-date=<span class="string">&#x27;dayitem.date&#x27;</span>, x=<span class="string">&#x27;0&#x27;</span>, :y=<span class="string">&#x27; 30 + dayIndex*13 &#x27;</span>, width=<span class="string">&#x27;11&#x27;</span>, height=<span class="string">&#x27;11&#x27;</span>)</span><br><span class="line">      .<span class="property">contrib</span>-footer.<span class="property">clearfix</span>.<span class="property">mt</span>-<span class="number">1.</span>mx-<span class="number">3.</span>px-<span class="number">3.</span>pb-<span class="number">1</span></span><br><span class="line">        .<span class="property">float</span>-left.<span class="property">text</span>-gray</span><br><span class="line">          | 数据来源</span><br><span class="line">          <span class="title function_">a</span>(:href=<span class="string">&quot;&#x27;https://github.com/&#x27;+ user &quot;</span>, target=<span class="string">&#x27;blank&#x27;</span>) @&#123;&#123;user&#125;&#125;</span><br><span class="line">        .<span class="property">contrib</span>-legend.<span class="property">text</span>-gray</span><br><span class="line">          | <span class="title class_">Less</span></span><br><span class="line"></span><br><span class="line">          ul.<span class="property">legend</span></span><br><span class="line">            <span class="title function_">li</span>(:style=<span class="string">&#x27;&#123;backgroundColor:color[0]&#125;&#x27;</span>)</span><br><span class="line">            <span class="title function_">li</span>(:style=<span class="string">&#x27;&#123;backgroundColor:color[2]&#125;&#x27;</span>)</span><br><span class="line">            <span class="title function_">li</span>(:style=<span class="string">&#x27;&#123;backgroundColor:color[4]&#125;&#x27;</span>)</span><br><span class="line">            <span class="title function_">li</span>(:style=<span class="string">&#x27;&#123;backgroundColor:color[6]&#125;&#x27;</span>)</span><br><span class="line">            <span class="title function_">li</span>(:style=<span class="string">&#x27;&#123;backgroundColor:color[8]&#125;&#x27;</span>)</span><br><span class="line">          | <span class="title class_">More</span></span><br><span class="line"></span><br><span class="line">  .<span class="property">contrib</span>-column.<span class="property">contrib</span>-column-first.<span class="property">table</span>-column</span><br><span class="line">    span.<span class="property">text</span>-muted 过去一年提交</span><br><span class="line">    span.<span class="property">contrib</span>-number &#123;&#123;total&#125;&#125;</span><br><span class="line">    span.<span class="property">text</span>-muted &#123;&#123;oneyearbeforeday&#125;&#125;&amp;nbsp;-&amp;nbsp;&#123;&#123;thisday&#125;&#125;</span><br><span class="line">  .<span class="property">contrib</span>-column.<span class="property">table</span>-column</span><br><span class="line">    span.<span class="property">text</span>-muted 最近一月提交</span><br><span class="line">    span.<span class="property">contrib</span>-number &#123;&#123;thisweekdatacore&#125;&#125;</span><br><span class="line">    span.<span class="property">text</span>-muted &#123;&#123;amonthago&#125;&#125;&amp;nbsp;-&amp;nbsp;&#123;&#123;thisday&#125;&#125;</span><br><span class="line">  .<span class="property">contrib</span>-column.<span class="property">table</span>-column</span><br><span class="line">    span.<span class="property">text</span>-muted 最近一周提交</span><br><span class="line">    span.<span class="property">contrib</span>-number &#123;&#123;weekdatacore&#125;&#125;</span><br><span class="line">    span.<span class="property">text</span>-muted &#123;&#123;aweekago&#125;&#125;&amp;nbsp;-&amp;nbsp;&#123;&#123;thisday&#125;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>2.继续在这个目录下新建一个名为<code>gitcalendar-js.pug</code>的文件</li></ul><p>在内部写入以下代码(请直接复制粘贴,避免缩进错误 ❌):</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br></pre></td><td class="code"><pre><span class="line">script.</span><br><span class="line">  <span class="keyword">var</span> gitcalendar = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#gitcalendar&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">simplemode</span>: !&#123;theme.<span class="property">gitcalendar</span>.<span class="property">simplemode</span>&#125;,</span><br><span class="line">      <span class="attr">user</span>: <span class="string">&#x27;!&#123;theme.gitcalendar.user&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">fixed</span>: <span class="string">&#x27;fixed&#x27;</span>,</span><br><span class="line">      <span class="attr">px</span>: <span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">      <span class="attr">x</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">y</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">span1</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">span2</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">month</span>: [<span class="string">&#x27;一月&#x27;</span>, <span class="string">&#x27;二月&#x27;</span>, <span class="string">&#x27;三月&#x27;</span>, <span class="string">&#x27;四月&#x27;</span>, <span class="string">&#x27;五月&#x27;</span>, <span class="string">&#x27;六月&#x27;</span>, <span class="string">&#x27;七月&#x27;</span>, <span class="string">&#x27;八月&#x27;</span>, <span class="string">&#x27;九月&#x27;</span>, <span class="string">&#x27;十月&#x27;</span>, <span class="string">&#x27;十一月&#x27;</span>, <span class="string">&#x27;十二月&#x27;</span>],</span><br><span class="line">      <span class="attr">monthchange</span>: [],</span><br><span class="line">      <span class="attr">oneyearbeforeday</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">thisday</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">amonthago</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">aweekago</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">weekdatacore</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">datacore</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">total</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">datadate</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: [],</span><br><span class="line">      <span class="attr">positionplusdata</span>: [],</span><br><span class="line">      <span class="attr">firstweek</span>: [],</span><br><span class="line">      <span class="attr">lastweek</span>: [],</span><br><span class="line">      <span class="attr">beforeweek</span>: [],</span><br><span class="line">      <span class="attr">thisweekdatacore</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">mounthbeforeday</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">mounthfirstindex</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">crispedges</span>: <span class="string">&#x27;crispedges&#x27;</span>,</span><br><span class="line">      <span class="attr">thisdayindex</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">amonthagoindex</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">amonthagoweek</span>: [],</span><br><span class="line">      <span class="attr">firstdate</span>: [],</span><br><span class="line">      <span class="attr">first2date</span>: [],</span><br><span class="line">      <span class="attr">montharrbefore</span>: [],</span><br><span class="line">      <span class="attr">monthindex</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">color</span>: !&#123;theme.<span class="property">gitcalendar</span>.<span class="property">color</span>&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">selectStyle</span>(<span class="params">data, event</span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.angle-wrapper&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">span1</span> = data.<span class="property">date</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">span2</span> = data.<span class="property">count</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = event.<span class="property">clientX</span> - <span class="number">100</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> = event.<span class="property">clientY</span> - <span class="number">60</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">outStyle</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.angle-wrapper&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">thiscolor</span>(<span class="params">x</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (x === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">let</span> i = <span class="built_in">parseInt</span>(x / <span class="number">2</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">color</span>[<span class="number">0</span>]</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; <span class="number">2</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">color</span>[<span class="number">1</span>]</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; <span class="number">20</span>) &#123;</span><br><span class="line">          <span class="keyword">let</span> i = <span class="built_in">parseInt</span>(x / <span class="number">2</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">color</span>[i]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">color</span>[<span class="number">9</span>]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">var</span> apiurl = <span class="string">&#x27;!&#123;theme.gitcalendar.apiurl&#125;&#x27;</span> ? <span class="string">&#x27;https://!&#123;theme.gitcalendar.apiurl&#125;/api?&#x27;</span> : <span class="string">&#x27;https://githubapi.ryanchristian.dev/user/&#x27;</span></span><br><span class="line">  <span class="keyword">var</span> githubapiurl = apiurl + gitcalendar.<span class="property">user</span>;</span><br><span class="line">  <span class="comment">//canvas绘图</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">responsiveChart</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> c = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;gitcanvas&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (c) &#123;</span><br><span class="line">      <span class="keyword">let</span> cmessage = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;gitmessage&quot;</span>);</span><br><span class="line">      <span class="keyword">let</span> ctx = c.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">      c.<span class="property">width</span> = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;gitcalendarcanvasbox&quot;</span>).<span class="property">offsetWidth</span>;</span><br><span class="line">      <span class="keyword">let</span> linemaxwitdh = <span class="number">0.96</span> * c.<span class="property">width</span> / gitcalendar.<span class="property">data</span>.<span class="property">length</span>;</span><br><span class="line">      c.<span class="property">height</span> = <span class="number">9</span> * linemaxwitdh;</span><br><span class="line">      <span class="keyword">let</span> lineminwitdh = <span class="number">0.8</span> * linemaxwitdh;</span><br><span class="line">      <span class="keyword">let</span> setposition = &#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">0.02</span> * c.<span class="property">width</span>,</span><br><span class="line">        <span class="attr">y</span>: <span class="number">0.025</span> * c.<span class="property">width</span></span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> week <span class="keyword">in</span> gitcalendar.<span class="property">data</span>) &#123;</span><br><span class="line">        weekdata = gitcalendar.<span class="property">data</span>[week];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> day <span class="keyword">in</span> weekdata) &#123;</span><br><span class="line">          <span class="keyword">let</span> dataitem = &#123;</span><br><span class="line">            <span class="attr">date</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="attr">count</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">          &#125;;</span><br><span class="line">          gitcalendar.<span class="property">positionplusdata</span>.<span class="title function_">push</span>(dataitem);</span><br><span class="line">          ctx.<span class="property">fillStyle</span> = gitcalendar.<span class="title function_">thiscolor</span>(weekdata[day].<span class="property">count</span>);</span><br><span class="line">          setposition.<span class="property">y</span> = <span class="title class_">Math</span>.<span class="title function_">round</span>(setposition.<span class="property">y</span> * <span class="number">100</span>) / <span class="number">100</span>;</span><br><span class="line">          dataitem.<span class="property">date</span> = weekdata[day].<span class="property">date</span>;</span><br><span class="line">          dataitem.<span class="property">count</span> = weekdata[day].<span class="property">count</span>;</span><br><span class="line">          dataitem.<span class="property">x</span> = setposition.<span class="property">x</span>;</span><br><span class="line">          dataitem.<span class="property">y</span> = setposition.<span class="property">y</span>;</span><br><span class="line">          ctx.<span class="title function_">fillRect</span>(setposition.<span class="property">x</span>, setposition.<span class="property">y</span>, lineminwitdh, lineminwitdh);</span><br><span class="line">          setposition.<span class="property">y</span> = setposition.<span class="property">y</span> + linemaxwitdh</span><br><span class="line">        &#125;;</span><br><span class="line">        setposition.<span class="property">y</span> = <span class="number">0.025</span> * c.<span class="property">width</span>;</span><br><span class="line">        setposition.<span class="property">x</span> = setposition.<span class="property">x</span> + linemaxwitdh</span><br><span class="line">      &#125;;</span><br><span class="line">      ctx.<span class="property">font</span> = <span class="string">&quot;600  Arial&quot;</span>;</span><br><span class="line">      ctx.<span class="property">fillStyle</span> = <span class="string">&#x27;#aaa&#x27;</span>;</span><br><span class="line">      ctx.<span class="title function_">fillText</span>(<span class="string">&quot;日&quot;</span>, <span class="number">0</span>, <span class="number">1.9</span> * linemaxwitdh);</span><br><span class="line">      ctx.<span class="title function_">fillText</span>(<span class="string">&quot;二&quot;</span>, <span class="number">0</span>, <span class="number">3.9</span> * linemaxwitdh);</span><br><span class="line">      ctx.<span class="title function_">fillText</span>(<span class="string">&quot;四&quot;</span>, <span class="number">0</span>, <span class="number">5.9</span> * linemaxwitdh);</span><br><span class="line">      ctx.<span class="title function_">fillText</span>(<span class="string">&quot;六&quot;</span>, <span class="number">0</span>, <span class="number">7.9</span> * linemaxwitdh);</span><br><span class="line">      <span class="keyword">let</span> monthindexlist = c.<span class="property">width</span> / <span class="number">24</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> index <span class="keyword">in</span> gitcalendar.<span class="property">monthchange</span>) &#123;</span><br><span class="line">        ctx.<span class="title function_">fillText</span>(gitcalendar.<span class="property">monthchange</span>[index], monthindexlist, <span class="number">0.7</span> * linemaxwitdh);</span><br><span class="line">        monthindexlist = monthindexlist + c.<span class="property">width</span> / <span class="number">12</span></span><br><span class="line">      &#125;;</span><br><span class="line">      cmessage.<span class="property">onmousemove</span> = <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.angle-wrapper&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;;</span><br><span class="line">      c.<span class="property">onmousemove</span> = <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.angle-wrapper&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">        <span class="title function_">getMousePos</span>(c, event);</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">getMousePos</span>(<span class="params">canvas, event</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> rect = canvas.<span class="title function_">getBoundingClientRect</span>();</span><br><span class="line">        <span class="keyword">var</span> x = event.<span class="property">clientX</span> - rect.<span class="property">left</span> * (canvas.<span class="property">width</span> / rect.<span class="property">width</span>);</span><br><span class="line">        <span class="keyword">var</span> y = event.<span class="property">clientY</span> - rect.<span class="property">top</span> * (canvas.<span class="property">height</span> / rect.<span class="property">height</span>);</span><br><span class="line">        <span class="comment">//console.log(&quot;x:&quot;+x+&quot;,y:&quot;+y);</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> gitcalendar.<span class="property">positionplusdata</span>) &#123;</span><br><span class="line">          <span class="keyword">let</span> lenthx = x - item.<span class="property">x</span>;</span><br><span class="line">          <span class="keyword">let</span> lenthy = y - item.<span class="property">y</span>;</span><br><span class="line">          <span class="comment">//console.log(lenthx,lenthy);</span></span><br><span class="line">          <span class="keyword">if</span> (<span class="number">0</span> &lt; lenthx &amp;&amp; lenthx &lt; lineminwitdh) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="number">0</span> &lt; lenthy &amp;&amp; lenthy &lt; lineminwitdh) &#123;</span><br><span class="line">              <span class="comment">//console.log(item.date,item.count)</span></span><br><span class="line">              <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.angle-wrapper&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span></span><br><span class="line">              gitcalendar.<span class="property">span1</span> = item.<span class="property">date</span>;</span><br><span class="line">              gitcalendar.<span class="property">span2</span> = item.<span class="property">count</span>;</span><br><span class="line">              gitcalendar.<span class="property">x</span> = event.<span class="property">clientX</span> - <span class="number">100</span>;</span><br><span class="line">              gitcalendar.<span class="property">y</span> = event.<span class="property">clientY</span> - <span class="number">60</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">//if(0&lt; x - item.x &lt;lineminwitdh&amp;&amp;0&lt; y - item.y &lt;lineminwitdh)&#123;</span></span><br><span class="line">          <span class="comment">//console.log(item.count,item.date);</span></span><br><span class="line">          <span class="comment">//&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//数据统计算法</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">addlastmonth</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (gitcalendar.<span class="property">thisdayindex</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="title function_">thisweekcore</span>(<span class="number">52</span>);</span><br><span class="line">      <span class="title function_">thisweekcore</span>(<span class="number">51</span>);</span><br><span class="line">      <span class="title function_">thisweekcore</span>(<span class="number">50</span>);</span><br><span class="line">      <span class="title function_">thisweekcore</span>(<span class="number">49</span>);</span><br><span class="line">      <span class="title function_">thisweekcore</span>(<span class="number">48</span>);</span><br><span class="line">      gitcalendar.<span class="property">thisweekdatacore</span> += gitcalendar.<span class="property">firstdate</span>[<span class="number">6</span>].<span class="property">count</span>;</span><br><span class="line">      gitcalendar.<span class="property">amonthago</span> = gitcalendar.<span class="property">firstdate</span>[<span class="number">6</span>].<span class="property">date</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">thisweekcore</span>(<span class="number">52</span>);</span><br><span class="line">      <span class="title function_">thisweekcore</span>(<span class="number">51</span>);</span><br><span class="line">      <span class="title function_">thisweekcore</span>(<span class="number">50</span>);</span><br><span class="line">      <span class="title function_">thisweekcore</span>(<span class="number">49</span>);</span><br><span class="line">      <span class="title function_">thisweek2core</span>();</span><br><span class="line">      gitcalendar.<span class="property">amonthago</span> = gitcalendar.<span class="property">first2date</span>[gitcalendar.<span class="property">thisdayindex</span> - <span class="number">1</span>].<span class="property">date</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">thisweek2core</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = gitcalendar.<span class="property">thisdayindex</span> - <span class="number">1</span>; i &lt; gitcalendar.<span class="property">first2date</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      gitcalendar.<span class="property">thisweekdatacore</span> += gitcalendar.<span class="property">first2date</span>[i].<span class="property">count</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">thisweekcore</span>(<span class="params">index</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> gitcalendar.<span class="property">data</span>[index]) &#123;</span><br><span class="line">      gitcalendar.<span class="property">thisweekdatacore</span> += item.<span class="property">count</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">addlastweek</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> gitcalendar.<span class="property">lastweek</span>) &#123;</span><br><span class="line">      gitcalendar.<span class="property">weekdatacore</span> += item.<span class="property">count</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">addbeforeweek</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = gitcalendar.<span class="property">thisdayindex</span>; i &lt; gitcalendar.<span class="property">beforeweek</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      gitcalendar.<span class="property">weekdatacore</span> += gitcalendar.<span class="property">beforeweek</span>[i].<span class="property">count</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">addweek</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (gitcalendar.<span class="property">thisdayindex</span> === <span class="number">6</span>) &#123;</span><br><span class="line">      gitcalendar.<span class="property">aweekago</span> = gitcalendar.<span class="property">lastweek</span>[<span class="number">0</span>].<span class="property">date</span>;</span><br><span class="line">      <span class="title function_">addlastweek</span>()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      lastweek = data.<span class="property">contributions</span>[<span class="number">51</span>];</span><br><span class="line">      gitcalendar.<span class="property">aweekago</span> = lastweek[gitcalendar.<span class="property">thisdayindex</span> + <span class="number">1</span>].<span class="property">date</span>;</span><br><span class="line">      <span class="title function_">addlastweek</span>();</span><br><span class="line">      <span class="title function_">addbeforeweek</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">fetch</span>(githubapiurl)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> data.<span class="title function_">json</span>())</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">      gitcalendar.<span class="property">data</span> = data.<span class="property">contributions</span>;</span><br><span class="line">      gitcalendar.<span class="property">total</span> = data.<span class="property">total</span>;</span><br><span class="line">      gitcalendar.<span class="property">first2date</span> = gitcalendar.<span class="property">data</span>[<span class="number">48</span>];</span><br><span class="line">      gitcalendar.<span class="property">firstdate</span> = gitcalendar.<span class="property">data</span>[<span class="number">47</span>];</span><br><span class="line">      gitcalendar.<span class="property">firstweek</span> = data.<span class="property">contributions</span>[<span class="number">0</span>];</span><br><span class="line">      gitcalendar.<span class="property">lastweek</span> = data.<span class="property">contributions</span>[<span class="number">52</span>];</span><br><span class="line">      gitcalendar.<span class="property">beforeweek</span> = data.<span class="property">contributions</span>[<span class="number">51</span>];</span><br><span class="line">      gitcalendar.<span class="property">thisdayindex</span> = gitcalendar.<span class="property">lastweek</span>.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">      gitcalendar.<span class="property">thisday</span> = gitcalendar.<span class="property">lastweek</span>[gitcalendar.<span class="property">thisdayindex</span>].<span class="property">date</span>;</span><br><span class="line">      gitcalendar.<span class="property">oneyearbeforeday</span> = gitcalendar.<span class="property">firstweek</span>[<span class="number">0</span>].<span class="property">date</span>;</span><br><span class="line">      gitcalendar.<span class="property">monthindex</span> = gitcalendar.<span class="property">thisday</span>.<span class="title function_">substring</span>(<span class="number">5</span>, <span class="number">7</span>) * <span class="number">1</span>;</span><br><span class="line">      gitcalendar.<span class="property">montharrbefore</span> = gitcalendar.<span class="property">month</span>.<span class="title function_">splice</span>(gitcalendar.<span class="property">monthindex</span>, <span class="number">12</span> - gitcalendar.<span class="property">monthindex</span>);</span><br><span class="line">      gitcalendar.<span class="property">monthchange</span> = gitcalendar.<span class="property">montharrbefore</span>.<span class="title function_">concat</span>(gitcalendar.<span class="property">month</span>);</span><br><span class="line">      <span class="title function_">addweek</span>(data);</span><br><span class="line">      <span class="title function_">addlastmonth</span>();</span><br><span class="line">      <span class="title function_">responsiveChart</span>();</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">error</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//手机版更换为svg绘制</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;gitcalendarcanvasbox&quot;</span>).<span class="property">offsetWidth</span> &lt; <span class="number">500</span>) &#123;</span><br><span class="line">    gitcalendar.<span class="property">simplemode</span> = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//当改变窗口大小时重新绘制canvas</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">onresize</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (gitcalendar.<span class="property">simplemode</span>) <span class="title function_">responsiveChart</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//解决滚动滑轮时出现的标签显示</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">onscroll</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.angle-wrapper&#x27;</span>)) &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.angle-wrapper&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><p>然后你要去创建 Stylus 样式辣</p><ul><li>3.进入<code>%brt%\themes\butterfly\source\css\_layout\</code>新建一个名为<code>gitcalendar.styl</code>的文件</li></ul><p>用 编 辑 器 打开<br>在文件内部 植 入 以下代码:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br></pre></td><td class="code"><pre><span class="line">if hexo-config(&#x27;gitcalendar<span class="selector-class">.enable</span>&#x27;)</span><br><span class="line">  <span class="selector-class">.gitcalendar</span></span><br><span class="line">    <span class="attribute">font-family</span> SourceHanSans-Medium</span><br><span class="line">    <span class="attribute">border</span> <span class="number">1px</span> solid <span class="selector-id">#DDDDDD</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">3px</span></span><br><span class="line">    <span class="attribute">min-height</span> <span class="number">120px</span></span><br><span class="line">    <span class="attribute">text-align</span> center</span><br><span class="line">    <span class="attribute">margin</span> <span class="number">0</span> auto</span><br><span class="line">    <span class="attribute">border-width</span> <span class="number">0px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">display</span> <span class="attribute">flex</span></span><br><span class="line">    <span class="attribute">display</span> -webkit-<span class="attribute">flex</span></span><br><span class="line">    <span class="attribute">justify-content</span> center</span><br><span class="line">    <span class="attribute">align-items</span> center</span><br><span class="line">    <span class="attribute">flex-wrap</span> wrap</span><br><span class="line">    <span class="selector-tag">img</span></span><br><span class="line">      &amp;<span class="selector-class">.spinner</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">70px</span></span><br><span class="line">        <span class="attribute">margin-top</span> <span class="number">50px</span></span><br><span class="line">        <span class="attribute">min-height</span> <span class="number">70px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.gitcalendar-graph</span> text<span class="selector-class">.wday</span>,</span><br><span class="line">  <span class="selector-class">.gitcalendar-graph</span> text<span class="selector-class">.month</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">10px</span></span><br><span class="line">    fill <span class="selector-id">#aaa</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.contrib-legend</span></span><br><span class="line">    <span class="attribute">text-align</span> <span class="attribute">right</span></span><br><span class="line">    <span class="attribute">padding</span> <span class="number">0</span> <span class="number">14px</span> <span class="number">10px</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">display</span> inline-block</span><br><span class="line">    <span class="attribute">float</span> <span class="attribute">right</span></span><br><span class="line">    <span class="selector-class">.legend</span></span><br><span class="line">      <span class="attribute">display</span> inline-block</span><br><span class="line">      <span class="attribute">list-style</span> <span class="attribute">none</span></span><br><span class="line">      <span class="attribute">margin</span> <span class="number">0</span> <span class="number">5px</span></span><br><span class="line">      <span class="attribute">position</span> relative</span><br><span class="line">      <span class="attribute">bottom</span> -<span class="number">1px</span></span><br><span class="line">      <span class="attribute">padding</span> <span class="number">0</span></span><br><span class="line">      <span class="selector-tag">li</span></span><br><span class="line">        <span class="attribute">display</span> inline-block</span><br><span class="line">        <span class="attribute">width</span> <span class="number">10px</span></span><br><span class="line">        <span class="attribute">height</span> <span class="number">10px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.text-small</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">12px</span></span><br><span class="line">    <span class="attribute">color</span> <span class="selector-id">#767676</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.gitcalendar-graph</span></span><br><span class="line">    <span class="attribute">padding</span> <span class="number">15px</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">text-align</span> center</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.contrib-column</span></span><br><span class="line">    <span class="attribute">text-align</span> center</span><br><span class="line">    <span class="attribute">border-left</span> <span class="number">1px</span> solid <span class="selector-id">#ddd</span></span><br><span class="line">    <span class="attribute">border-top</span> <span class="number">1px</span> solid <span class="selector-id">#ddd</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">11px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.contrib-column-first</span></span><br><span class="line">    <span class="attribute">border-left</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.table-column</span></span><br><span class="line">    <span class="attribute">padding</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">display</span> <span class="selector-tag">table</span>-cell</span><br><span class="line">    <span class="attribute">width</span> <span class="number">33%</span></span><br><span class="line">    <span class="attribute">vertical-align</span> <span class="attribute">top</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.contrib-number</span></span><br><span class="line">    <span class="attribute">font-weight</span> <span class="number">300</span></span><br><span class="line">    <span class="attribute">line-height</span> <span class="number">1.3em</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">24px</span></span><br><span class="line">    <span class="attribute">display</span> block</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.monospace</span></span><br><span class="line">    <span class="attribute">text-align</span> center</span><br><span class="line">    <span class="attribute">color</span> <span class="selector-id">#000</span></span><br><span class="line">    <span class="attribute">font-family</span> monospace</span><br><span class="line">    <span class="selector-tag">a</span></span><br><span class="line">      <span class="attribute">color</span> <span class="selector-id">#1D75AB</span></span><br><span class="line">      <span class="attribute">text-decoration</span> <span class="attribute">none</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.contrib-footer</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">11px</span></span><br><span class="line">    <span class="attribute">padding</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">12px</span></span><br><span class="line">    <span class="attribute">text-align</span> <span class="attribute">left</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">box-sizing</span> <span class="attribute">border</span>-box</span><br><span class="line">    <span class="attribute">height</span> <span class="number">26px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.left</span></span><br><span class="line">    &amp;<span class="selector-class">.text-muted</span></span><br><span class="line">      <span class="attribute">float</span> <span class="attribute">left</span></span><br><span class="line">      <span class="attribute">margin-left</span> <span class="number">9px</span></span><br><span class="line">      <span class="attribute">color</span> <span class="selector-id">#767676</span></span><br><span class="line">      <span class="selector-tag">a</span></span><br><span class="line">        <span class="attribute">color</span> <span class="selector-id">#4078c0</span></span><br><span class="line">        <span class="attribute">text-decoration</span> <span class="attribute">none</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.left</span><span class="selector-class">.text-muted</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line">  <span class="selector-class">.monospace</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span></span><br><span class="line">    <span class="attribute">text-decoration</span> underline</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h2</span></span><br><span class="line">    &amp;<span class="selector-class">.f4</span></span><br><span class="line">      &amp;<span class="selector-class">.text-normal</span></span><br><span class="line">        &amp;<span class="selector-class">.mb-3</span></span><br><span class="line">          <span class="attribute">display</span> <span class="attribute">none</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.float-left</span></span><br><span class="line">    &amp;<span class="selector-class">.text-gray</span></span><br><span class="line">      <span class="attribute">float</span> <span class="attribute">left</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#user-activity-overview</span></span><br><span class="line">    <span class="attribute">display</span> <span class="attribute">none</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.day-tooltip</span></span><br><span class="line">    <span class="attribute">white-space</span> nowrap</span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">z-index</span> <span class="number">99999</span></span><br><span class="line">    <span class="attribute">padding</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">12px</span></span><br><span class="line">    <span class="attribute">color</span> <span class="selector-id">#959da5</span></span><br><span class="line">    <span class="attribute">text-align</span> center</span><br><span class="line">    <span class="attribute">background</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">85</span>)</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">3px</span></span><br><span class="line">    <span class="attribute">display</span> <span class="attribute">none</span></span><br><span class="line">    <span class="attribute">pointer-events</span> <span class="attribute">none</span></span><br><span class="line">    <span class="selector-tag">strong</span></span><br><span class="line">      <span class="attribute">color</span> <span class="selector-id">#dfe2e5</span></span><br><span class="line">    &amp;<span class="selector-class">.is-visible</span></span><br><span class="line">      <span class="attribute">display</span> block</span><br><span class="line">    &amp;<span class="selector-pseudo">:after</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">bottom</span> -<span class="number">10px</span></span><br><span class="line">      <span class="attribute">left</span> <span class="number">50%</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">5px</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">5px</span></span><br><span class="line">      <span class="attribute">box-sizing</span> <span class="attribute">border</span>-box</span><br><span class="line">      <span class="attribute">margin</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">5px</span></span><br><span class="line">      <span class="attribute">content</span> &quot; &quot;</span><br><span class="line">      <span class="attribute">border</span> <span class="number">5px</span> solid transparent</span><br><span class="line">      <span class="attribute">border-top-color</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">85</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.position-relative</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">padding-left</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">padding-right</span> <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">650px</span>)</span><br><span class="line">    .contrib-column</span><br><span class="line">      display none</span><br><span class="line"></span><br><span class="line">  .angle-wrapper</span><br><span class="line">    z-index <span class="number">9999</span></span><br><span class="line">    display inline</span><br><span class="line">    display none</span><br><span class="line">    <span class="attribute">width</span> <span class="number">200px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">40px</span></span><br><span class="line">    position relative</span><br><span class="line">    padding <span class="number">5px</span> <span class="number">0</span></span><br><span class="line">    background rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.8</span>)</span><br><span class="line">    border-radius <span class="number">8px</span></span><br><span class="line">    text-align center</span><br><span class="line">    <span class="attribute">color</span> white</span><br><span class="line">    span</span><br><span class="line">      padding-bottom <span class="number">1em</span></span><br><span class="line">    &amp;:before</span><br><span class="line">      content <span class="string">&#x27;&#x27;</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">0</span></span><br><span class="line">      border <span class="number">10px</span> solid transparent</span><br><span class="line">      border-top-color rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.8</span>)</span><br><span class="line">      position absolute</span><br><span class="line">      left <span class="number">47.5%</span></span><br><span class="line">      top <span class="number">100%</span></span><br><span class="line"></span><br><span class="line">  .angle-box</span><br><span class="line">    position fixed</span><br><span class="line">    padding <span class="number">10px</span></span><br></pre></td></tr></table></figure><ul><li>4.快马加鞭的前往<code>%brt%\themes\butterfly\layout\</code>找到我们的 食 物 <code>index.pug</code></li></ul><p>为了方便我们食用,找到#recent-posts.recent-posts 在下面插入一段代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> theme.<span class="property">gitcalendar</span>.<span class="property">enable</span></span><br><span class="line">  .<span class="property">recent</span>-post-<span class="title function_">item</span>(style=<span class="string">&#x27;width:100%&#x27;</span>)</span><br><span class="line">    !=<span class="title function_">partial</span>(<span class="string">&#x27;includes/gitcalendar&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>:theme.<span class="property">fragment_cache</span>&#125;)</span><br><span class="line"><span class="keyword">if</span> theme.<span class="property">categoryBar</span>.<span class="property">enable</span></span><br><span class="line">  .<span class="property">recent</span>-post-<span class="title function_">item</span>(style=<span class="string">&#x27;height:auto;width:100%;padding:0px;&#x27;</span>)</span><br><span class="line">    #categoryBar!= <span class="title function_">list_categories</span>(site.<span class="property">categories</span>,&#123;<span class="attr">class</span>: <span class="string">&#x27;categoryBar&#x27;</span>,<span class="attr">depth</span>: <span class="number">1</span>&#125;)</span><br></pre></td></tr></table></figure><p><strong>记得一定要放在+postUI 的前一行哦</strong><br><strong>-</strong> 5.进入<code>%brt%\themes\butterfly\layout\includes\</code>的<code>additional-js.pug</code>文件<br>在 script(src=url_for(theme.CDN.utils))的上面加入以下内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">script</span>((src = <span class="title function_">url_for</span>(theme.<span class="property">CDN</span>.<span class="property">vue</span>)));</span><br></pre></td></tr></table></figure><p>然后再找到 script(defer src=url_for(theme.CDN.busuanzi))配置项<br>在这下面放入以下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">if</span> theme.<span class="property">gitcalendar</span>.<span class="property">enable</span></span><br><span class="line">    !=<span class="title function_">partial</span>(<span class="string">&#x27;includes/gitcalendar-js&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>:theme.<span class="property">fragment_cache</span>&#125;)</span><br><span class="line">!=<span class="title function_">partial</span>(<span class="string">&#x27;includes/third-party/prismjs&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>:theme.<span class="property">fragment_cache</span>&#125;)</span><br></pre></td></tr></table></figure><p>好的,修改完了,接下来我们就可以去添加 CDN 配置项和 gitcalendar 配置项了<br>进入<code>%brt%\_config.butterfly.yml</code><br>找到 CDN 配置项<br>在 utils: /js/utils.js 配置项的下面插入以下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">vue</span>: <span class="attr">https</span>:<span class="comment">//cdn1.tianli0.top/npm/vue@2.6.11</span></span><br></pre></td></tr></table></figure><p>然后随便找一个屑位置,插入以下代码:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#gitcalendar</span></span><br><span class="line"><span class="attr">gitcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">simplemode:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#设为true时使用canvas绘制gitgitcalendar，</span></span><br><span class="line">  <span class="comment">#设为false时使用svg绘制gitgitcalendar</span></span><br><span class="line">  <span class="comment">#canvas：dom数少，但图像会发生模糊，自适应一般</span></span><br><span class="line">  <span class="comment">#svg：dom数多，图像清晰，自适应更佳</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">slblog-github</span> <span class="comment">#这里填写你的github用户名</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="comment"># 留空为默认公共API</span></span><br><span class="line">  <span class="comment"># 以下色调选择喜欢的一行保留即可。其余注释。</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot;</span> <span class="comment">#橘黄色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot; #浅紫色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f0fff4&#x27;, &#x27;#dcffe4&#x27;, &#x27;#bef5cb&#x27;, &#x27;#85e89d&#x27;, &#x27;#34d058&#x27;, &#x27;#28a745&#x27;, &#x27;#22863a&#x27;, &#x27;#176f2c&#x27;, &#x27;#165c26&#x27;, &#x27;#144620&#x27;]&quot; #翠绿色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f1f8ff&#x27;, &#x27;#dbedff&#x27;, &#x27;#c8e1ff&#x27;, &#x27;#79b8ff&#x27;, &#x27;#2188ff&#x27;, &#x27;#0366d6&#x27;, &#x27;#005cc5&#x27;, &#x27;#044289&#x27;, &#x27;#032f62&#x27;, &#x27;#05264c&#x27;]&quot; #天青色调</span></span><br></pre></td></tr></table></figure><p>然后参照上面的配置就行辣~<br>关于配置 apiurl 可以参照<a target="_blank" rel="noopener" href="https://akilar.top/posts/1f9c68c9/#%E8%87%AA%E5%BB%BAAPI%E9%83%A8%E7%BD%B2">Akilar 大佬的文章</a>自建 API 哦<br>各位有什么想魔改的可以评论以一下(只要不太难,毕竟我还是个 初 中 生)</p><h1 id="在你的网站添加一个-♂-美妙-♂-的-PACE-加载进度条"><a href="#在你的网站添加一个-♂-美妙-♂-的-PACE-加载进度条" class="headerlink" title="在你的网站添加一个 ♂ 美妙 ♂ 的 PACE 加载进度条"></a>在你的网站添加一个 ♂ 美妙 ♂ 的 PACE 加载进度条</h1><h2 id="这个很简单-只需要一个-JS-和一个-CSS-就可以了"><a href="#这个很简单-只需要一个-JS-和一个-CSS-就可以了" class="headerlink" title="这个很简单,只需要一个 JS 和一个 CSS 就可以了"></a>这个很简单,只需要一个 JS 和一个 CSS 就可以了</h2><p>现在我们开始吧<br>首先进入<code>%brt%\_config.butterfly.yml</code><br>找到 inject 大项<br>在 bottom 配置项下面添加如下配置:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;https://cdn1.tianli0.top/gh/HCLonely/hclonely.github.io@1.4.7/js/custom/pace.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=stylesheet</span> <span class="string">href=&quot;https://cdn1.tianli0.top/gh/HCLonely/hclonely.github.io@1.4.7/css/custom/pace-theme-flash.min.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>然后就行了,哈哈其实是用来水一下字数的</p><h2 id="备用引入"><a href="#备用引入" class="headerlink" title="备用引入"></a>备用引入</h2><p>备用 1</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;https://static.slqwq.cn/script/pace-main.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=stylesheet</span> <span class="string">href=&quot;https://static.slqwq.cn/styles/pace-theme-flash.min.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>备用 2</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;https://static-2.slqwq.cn/script/pace-main.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=stylesheet</span> <span class="string">href=&quot;https://static-2.slqwq.cn/styles/pace-theme-flash.min.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>备用 3</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;https://static-3.slqwq.cn/script/pace-main.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=stylesheet</span> <span class="string">href=&quot;https://static-3.slqwq.cn/styles/pace-theme-flash.min.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>备用 4</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">data-pjax</span> <span class="string">src=&quot;https://cdn1.tianli0.top/gh/slblog-github/Static@main/script/pace-main.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=stylesheet</span> <span class="string">href=&quot;https://cdn1.tianli0.top/gh/slblog-github/Static@main/styles/pace-theme-flash.min.css&quot;&gt;</span></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="https://blog.slqwq.cn">Hajeekn</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://blog.slqwq.cn/2021/posts/bbr35lia/index.html">https://blog.slqwq.cn/2021/posts/bbr35lia/index.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.slqwq.cn" target="_blank">Backup of old blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a><a class="post-meta__tags" href="/tags/%E4%B8%BB%E9%A2%98%E9%AD%94%E6%94%B9/">主题魔改</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/posts/oc1hvkia/index.html"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://rmt.dogedoge.com/fetch/hajeekn/storage/20210211120920.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">搭建 YesPlayMusic 网页版</div></div></a></div><div class="next-post pull-right"><a href="/2021/posts/2ir0l12g/index.html"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://rmt.dogedoge.com/fetch/hajeekn/storage/20210118112009.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">使用Cloud Studio在云端写作✍</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/perorepe-cdn@1.0.0/v1/static-files/avatar.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Hajeekn</div><div class="author-info__description">梦中做梦，做了个白日梦</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">30</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">36</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">33</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ladjeek-actions/"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ladjeek-actions" target="_blank" title="Github"><i class="iconfont icon-github"></i></a><a class="social-icon" href="mailto:superxzlove@qq.com" target="_blank" title="Email"><i class="iconfont icon-MailII"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="iconfont icon-rss"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-wowjs-%E7%BB%99%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E5%A5%BD%E7%9C%8B%E7%9A%84%E6%A0%B7%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">通过 wowjs 给博客添加好看的样式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%A0%B7%E5%BC%8F%E7%AF%87"><span class="toc-number">1.1.</span> <span class="toc-text">基础样式篇</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%AE%E5%8A%A8%E6%A0%B7%E5%BC%8F%E7%AF%87"><span class="toc-number">1.2.</span> <span class="toc-text">浮动样式篇</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0-BiliBili-%E5%90%8C%E6%AC%BE%E7%9A%84%E5%8A%A8%E6%80%81-Banner"><span class="toc-number">2.</span> <span class="toc-text">添加 BiliBili 同款的动态 Banner</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%82%AC%E5%81%9C%E5%B7%A6%E4%B8%8A%E8%A7%92%E6%97%B6%E5%9C%A8%E7%BD%91%E7%AB%99%E9%A1%B6%E9%83%A8%E4%B8%AD%E9%97%B4%E4%BD%8D%E7%BD%AE%E4%BC%9A%E5%87%BA%E7%8E%B0%E6%8F%8F%E8%BF%B0"><span class="toc-number">3.</span> <span class="toc-text">悬停左上角时在网站顶部中间位置会出现描述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%BB%E9%A1%B5%E7%BD%AE%E9%A1%B6%E7%9A%84-%E2%99%82gitcalendar%E2%99%82"><span class="toc-number">4.</span> <span class="toc-text">主页置顶的 ♂gitcalendar♂</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%A5%BD%E4%BA%86%E5%90%97-Go-Go"><span class="toc-number">4.1.</span> <span class="toc-text">准备好了吗?Go Go!</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8%E4%BD%A0%E7%9A%84%E7%BD%91%E7%AB%99%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA-%E2%99%82-%E7%BE%8E%E5%A6%99-%E2%99%82-%E7%9A%84-PACE-%E5%8A%A0%E8%BD%BD%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="toc-number">5.</span> <span class="toc-text">在你的网站添加一个 ♂ 美妙 ♂ 的 PACE 加载进度条</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%99%E4%B8%AA%E5%BE%88%E7%AE%80%E5%8D%95-%E5%8F%AA%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA-JS-%E5%92%8C%E4%B8%80%E4%B8%AA-CSS-%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86"><span class="toc-number">5.1.</span> <span class="toc-text">这个很简单,只需要一个 JS 和一个 CSS 就可以了</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E7%94%A8%E5%BC%95%E5%85%A5"><span class="toc-number">5.2.</span> <span class="toc-text">备用引入</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/posts/lyr15g/index.html" title="将你的网站部署到 Cloudflare 加快访问速度"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://rmt.ladydaily.com/fetch/hajeekn/storage/202204171120796.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="将你的网站部署到 Cloudflare 加快访问速度"></a><div class="content"><a class="title" href="/2023/posts/lyr15g/index.html" title="将你的网站部署到 Cloudflare 加快访问速度">将你的网站部署到 Cloudflare 加快访问速度</a><time datetime="2023-02-01T11:29:35.177Z" title="发表于 2023-02-01 11:29:35">2023-02-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/posts/96d1f24e/index.html" title="侧载 IPA 的另外方案 - SideStore"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i0.hdslb.com/bfs/album/c573ed9b849abd65ae07b167c6fb149d362397e9.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="侧载 IPA 的另外方案 - SideStore"></a><div class="content"><a class="title" href="/2023/posts/96d1f24e/index.html" title="侧载 IPA 的另外方案 - SideStore">侧载 IPA 的另外方案 - SideStore</a><time datetime="2023-01-23T12:08:00.000Z" title="发表于 2023-01-23 12:08:00">2023-01-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/posts/31c5538d/index.html" title="小米路由器 AX9000 开发版固件获取 SSH / 安装 MIXBOX &amp; ENTWARE"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i0.hdslb.com/bfs/album/a948c22a7b5360fee9a091725e3efc0a0194c57b.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="小米路由器 AX9000 开发版固件获取 SSH / 安装 MIXBOX &amp; ENTWARE"></a><div class="content"><a class="title" href="/2023/posts/31c5538d/index.html" title="小米路由器 AX9000 开发版固件获取 SSH / 安装 MIXBOX &amp; ENTWARE">小米路由器 AX9000 开发版固件获取 SSH / 安装 MIXBOX &amp; ENTWARE</a><time datetime="2023-01-17T15:50:35.000Z" title="发表于 2023-01-17 15:50:35">2023-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/posts/4e18cfcd/index.html" title="AX9000 Docker - Cloudreve 搭建并打洞"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i0.hdslb.com/bfs/album/1781eea40778e6f1220ed4063bf3f4d1a7448d41.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="AX9000 Docker - Cloudreve 搭建并打洞"></a><div class="content"><a class="title" href="/2022/posts/4e18cfcd/index.html" title="AX9000 Docker - Cloudreve 搭建并打洞">AX9000 Docker - Cloudreve 搭建并打洞</a><time datetime="2022-12-10T12:31:55.000Z" title="发表于 2022-12-10 12:31:55">2022-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/posts/6bd0d2ac/index.html" title="Electron + Vue + Mdui"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i0.hdslb.com/bfs/album/b30c5328ccd565a31e3c9b2ae7cd107a0698fc60.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Electron + Vue + Mdui"></a><div class="content"><a class="title" href="/2022/posts/6bd0d2ac/index.html" title="Electron + Vue + Mdui">Electron + Vue + Mdui</a><time datetime="2022-07-22T16:23:03.000Z" title="发表于 2022-07-22 16:23:03">2022-07-22</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2023 By Hajeekn</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><center><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn1.tianli0.top/gh/TRHX/CDN-for-itrhx.com@3.0.9/images/moeicp.png" style="width:18px;height:18px;margin-bottom:-3px" alt="MOE ICP"><a href="https://icp.gov.moe" target="_blank">萌ICP备</a> <a href="https://icp.gov.moe/?keyword=20205150" target="_blank">20205150号</a></center><center><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn1.tianli0.top/gh/slblog-github/SRCDN@master/Blog/Hosting.svg"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn1.tianli0.top/gh/slblog-github/SRCDN@master/Blog/FCDN.svg"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn1.tianli0.top/gh/slblog-github/SRCDN@master/Blog/WT.svg"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn1.tianli0.top/gh/slblog-github/SRCDN@master/Blog/cdn.svg"></center><center><a><a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.slqwq.cn/images/upyunlogo.png"></a></a></center><center><a href="../Helper/">博客用户端信息</a><p>部分图片存储于<a target="_blank" rel="noopener" href="https://www.dogedoge.com">DogeDoge</a>图床</p><center><a target="_blank" rel="noopener" href="https://policy.hesiy.cn">隐私协议</a></center></center></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn1.tianli0.top/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn1.tianli0.top/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn1.tianli0.top/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn1.tianli0.top/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn1.tianli0.top/npm/pangu/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/katex/dist/katex.min.css"><script src="https://cdn1.tianli0.top/npm/katex/dist/contrib/copy-tex.min.js"></script><script>document.querySelectorAll("#article-container span.katex-display").forEach(a=>{btf.wrap(a,"div",{class:"katex-wrap"})})</script><script>(()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(e.length){window.runMermaid=()=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"neutral":"forest";Array.from(e).forEach((e,n)=>{const r=e.firstElementChild,d="mermaid-"+n,i="%%{init:{ 'theme':'"+t+"'}}%%\n"+r.textContent;mermaid.mermaidAPI.render(d,i,e=>{r.insertAdjacentHTML("afterend",e)})})};const t=()=>{window.loadMermaid?runMermaid():getScript("https://cdn1.tianli0.top/npm/mermaid/dist/mermaid.min.js").then(runMermaid)};window.pjax?t():document.addEventListener("DOMContentLoaded",t)}})()</script><script>function loadWaline(){function e(){Waline.init(Object.assign({el:"#waline-wrap",serverURL:"https://comments.api.slqwq.cn",pageview:!1,dark:'html[data-theme="dark"]',path:window.location.pathname,comment:!1},null))}"function"==typeof Waline?e():(!function(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn1.tianli0.top/npm/@waline/client/dist/waline.min.css",document.head.appendChild(e)}(),getScript("https://cdn1.tianli0.top/npm/@waline/client/dist/waline.min.js").then(e))}{function loadOtherComment(){loadWaline()}btf.loadComment(document.getElementById("waline-wrap"),loadWaline)}</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn1.tianli0.top/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn1.tianli0.top/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/link/"]):not([href="/circle/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script></div><script data-pjax src="https://gcore.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js"></script><script data-pjax>function GithubCalendarConfig(){var t=document.getElementById("recent-posts");t&&"/"==location.pathname&&(console.log("已挂载github calendar"),t.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>')),GithubCalendar("https://getjt.slqwq.cn/api?slblog-github",["#ebedf0","#f1f8ff","#dbedff","#c8e1ff","#79b8ff","#2188ff","#0366d6","#005cc5","#044289","#032f62","#05264c"],"slblog-github")}document.getElementById("recent-posts")&&GithubCalendarConfig()</script><style>#github_container{min-height:280px}@media screen and (max-width:650px){#github_container{min-height:0}}</style><style></style><div class="js-pjax"><script async>for(var arr=document.getElementsByClassName("recent-post-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","2s"),arr[i].setAttribute("data-wow-delay","1s"),arr[i].setAttribute("data-wow-offset","100"),arr[i].setAttribute("data-wow-iteration","1")</script><script async>for(var arr=document.getElementsByClassName("card-widget"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration",""),arr[i].setAttribute("data-wow-delay",""),arr[i].setAttribute("data-wow-offset",""),arr[i].setAttribute("data-wow-iteration","")</script><script async>for(var arr=document.getElementsByClassName("card-info"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add(""),arr[i].setAttribute("data-wow-duration",""),arr[i].setAttribute("data-wow-delay",""),arr[i].setAttribute("data-wow-offset",""),arr[i].setAttribute("data-wow-iteration","")</script></div><script defer src="https://unpkg.zhimg.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://unpkg.zhimg.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script src="//cdn1.tianli0.top/npm/js-base64/base64.min.js"></script><script>const hasAttr=(t,r)=>r.some(r=>void 0!==t.attr(r));$("a").each((function(){const t=$(this);if(r=t,["data-fancybox","ignore-external-link"].some(t=>void 0!==r.attr(t)))return;var r;const e=t.attr("href");if(e&&e.match("^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)")){const r=e.split("/");if(r.length>=3){(""!==r[2]||window.location.host)&&(t.attr("href","/Jump.html?url="+Base64.encode(e)).attr("rel","external nofollow noopener noreferrer"),t.attr("target","_blank"))}}}))</script></body></html>